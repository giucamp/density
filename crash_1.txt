abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE FALSE "" -fsanitize=thread
[sudo] password for abc: 
RUN=TRUE, BUILD_TYPE=Release, TEST_DATA_STACK=FALSE, GCOV=FALSE, PARAMS=, COMPILER_PARAMS=-fsanitize=thread
MAKE_ARGS =  -DCMAKE_BUILD_TYPE=Release
mkdir: cannot create directory ‘build’: File exists
-- CMAKE_CXX_COMPILER: clang++-5.0
-- CMAKE_CXX_COMPILER_ID: GNU
-- will compile with g++
-- Configuring done
-- Generating done
-- Build files have been written to: /home/abc/proj/density/test/build
[  2%] Building CXX object CMakeFiles/density_test.dir/examples/concurrent_heterogeneous_queue_examples.cpp.o
clang: error: unknown argument: '-ftest-coverage-fsanitize=thread'
CMakeFiles/density_test.dir/build.make:62: recipe for target 'CMakeFiles/density_test.dir/examples/concurrent_heterogeneous_queue_examples.cpp.o' failed
make[2]: *** [CMakeFiles/density_test.dir/examples/concurrent_heterogeneous_queue_examples.cpp.o] Error 1
CMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/density_test.dir/all' failed
make[1]: *** [CMakeFiles/density_test.dir/all] Error 2
Makefile:129: recipe for target 'all' failed
make: *** [all] Error 2
abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE "" "" -fsanitize=thread
RUN=TRUE, BUILD_TYPE=Release, TEST_DATA_STACK=FALSE, GCOV=, PARAMS=, COMPILER_PARAMS=-fsanitize=thread
MAKE_ARGS =  -DCMAKE_BUILD_TYPE=Release
mkdir: cannot create directory ‘build’: File exists
-- CMAKE_CXX_COMPILER: clang++-5.0
-- CMAKE_CXX_COMPILER_ID: GNU
-- will compile with g++
-- Configuring done
-- Generating done
-- Build files have been written to: /home/abc/proj/density/test/build
[  2%] Building CXX object CMakeFiles/density_test.dir/examples/concurrent_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[  5%] Building CXX object CMakeFiles/density_test.dir/examples/conc_func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[  8%] Building CXX object CMakeFiles/density_test.dir/examples/func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 11%] Building CXX object CMakeFiles/density_test.dir/examples/heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 13%] Building CXX object CMakeFiles/density_test.dir/examples/lf_func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 16%] Building CXX object CMakeFiles/density_test.dir/examples/lf_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
^Cmake[2]: *** wait: No child processes.  Stop.
make[2]: *** Waiting for unfinished jobs....
make[2]: *** wait: No child processes.  Stop.
CMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/density_test.dir/all' failed
make[1]: *** [CMakeFiles/density_test.dir/all] Error 2
Makefile:129: recipe for target 'all' failed
make: *** [all] Interrupt

abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE "" "" -fsanitize=thread
RUN=TRUE, BUILD_TYPE=Release, TEST_DATA_STACK=FALSE, GCOV=, PARAMS=, COMPILER_PARAMS=-fsanitize=thread
MAKE_ARGS =  -DCMAKE_BUILD_TYPE=Release
mkdir: cannot create directory ‘build’: File exists
-- CMAKE_CXX_COMPILER: clang++-5.0
-- CMAKE_CXX_COMPILER_ID: GNU
-- will compile with g++
-- Configuring done
-- Generating done
-- Build files have been written to: /home/abc/proj/density/test/build
[  2%] Building CXX object CMakeFiles/density_test.dir/examples/lf_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
^CCMakeFiles/density_test.dir/build.make:182: recipe for target 'CMakeFiles/density_test.dir/examples/lf_heterogeneous_queue_examples.cpp.o' failed
make[2]: *** [CMakeFiles/density_test.dir/examples/lf_heterogeneous_queue_examples.cpp.o] Interrupt
CMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/density_test.dir/all' failed
make[1]: *** [CMakeFiles/density_test.dir/all] Interrupt
Makefile:129: recipe for target 'all' failed
make: *** [all] Interrupt

abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE "" "" -fsanitize=thread
RUN=TRUE, BUILD_TYPE=Release, TEST_DATA_STACK=FALSE, GCOV=, PARAMS=, COMPILER_PARAMS=-fsanitize=thread
MAKE_ARGS =  -DCMAKE_BUILD_TYPE=Release
-- The C compiler identification is GNU 7.2.0
-- The CXX compiler identification is GNU 7.2.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- CMAKE_CXX_COMPILER: clang++-5.0
-- CMAKE_CXX_COMPILER_ID: GNU
-- will compile with g++
-- Configuring done
-- Generating done
-- Build files have been written to: /home/abc/proj/density/test/build
Scanning dependencies of target density_test
[  2%] Building CXX object CMakeFiles/density_test.dir/examples/concurrent_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[  5%] Building CXX object CMakeFiles/density_test.dir/examples/conc_func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[  8%] Building CXX object CMakeFiles/density_test.dir/examples/func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 11%] Building CXX object CMakeFiles/density_test.dir/examples/heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 13%] Building CXX object CMakeFiles/density_test.dir/examples/lf_func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 16%] Building CXX object CMakeFiles/density_test.dir/examples/lf_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 19%] Building CXX object CMakeFiles/density_test.dir/examples/misc_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 22%] Building CXX object CMakeFiles/density_test.dir/examples/lifo_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 25%] Building CXX object CMakeFiles/density_test.dir/examples/sp_func_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 27%] Building CXX object CMakeFiles/density_test.dir/examples/sp_heterogeneous_queue_examples.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 30%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/conc_heter_queue_generic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 33%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/heter_queue_generic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 36%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 38%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 41%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/queue_generic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 44%] Building CXX object CMakeFiles/density_test.dir/tests/generic_tests/sp_heter_queue_generic_tests_seqcst.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 47%] Building CXX object CMakeFiles/density_test.dir/tests/concurrent_heterogeneous_queue_basic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 50%] Building CXX object CMakeFiles/density_test.dir/tests/heterogeneous_queue_basic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 52%] Building CXX object CMakeFiles/density_test.dir/tests/lf_heterogeneous_queue_basic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 55%] Building CXX object CMakeFiles/density_test.dir/tests/load_unload_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 58%] Building CXX object CMakeFiles/density_test.dir/tests/sp_heterogeneous_queue_basic_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 61%] Building CXX object CMakeFiles/density_test.dir/tests/lifo_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 63%] Building CXX object CMakeFiles/density_test.dir/tests/user_data_stack.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 66%] Building CXX object CMakeFiles/density_test.dir/test_framework/density_test_common.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 69%] Building CXX object CMakeFiles/density_test.dir/test_framework/dynamic_type.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 72%] Building CXX object CMakeFiles/density_test.dir/test_framework/exception_tests.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 75%] Building CXX object CMakeFiles/density_test.dir/test_framework/histogram.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 77%] Building CXX object CMakeFiles/density_test.dir/test_framework/line_updater_stream_adapter.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 80%] Building CXX object CMakeFiles/density_test.dir/test_framework/progress.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 83%] Building CXX object CMakeFiles/density_test.dir/test_framework/shared_block_registry.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 86%] Building CXX object CMakeFiles/density_test.dir/test_framework/test_allocators.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 88%] Building CXX object CMakeFiles/density_test.dir/test_framework/test_objects.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 91%] Building CXX object CMakeFiles/density_test.dir/test_framework/threading_extensions.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 94%] Building CXX object CMakeFiles/density_test.dir/test_settings.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[ 97%] Building CXX object CMakeFiles/density_test.dir/main.cpp.o
clang: warning: argument unused during compilation: '-rdynamic' [-Wunused-command-line-argument]
[100%] Linking CXX executable density_test
[100%] Built target density_test
[100%] Built target density_test
Install the project...
-- Install configuration: "Release"
-- Installing: /usr/local/bin/density_test
Density tests
	density_test
DENSITY_DEBUG: not defined
DENSITY_DEBUG_INTERNAL: not defined
NDEBUG: defined
DENSITY_USER_DATA_STACK: not defined
number of processors: 4
random seed: 1998764611
density version: 1.3.1
default page size: 65520

starting all tests...

*** executing generic tests...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 10(0) Consumed: 1031 (51%, remaining time estimate: 7.12991 secs), enqueued: 969==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c3149b00 by thread T11:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb4ed91)
    #1 density_tests::TestObject<128ul, 8ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation::element<density_tests::TestObject<128ul, 8ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb4ed91)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>, 128ul, 8ul>::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:321 (density_test+0xb4ed91)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xb581f6)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c3149b00 by thread T6:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x9995c4)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x9995c4)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xb580e7)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xb580e7)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xb580e7)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T11 (tid=2506, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T6 (tid=2501, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2496, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c314a800 by thread T4:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb50911)
    #1 density_tests::TestObject<2048ul, 2048ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation::element<density_tests::TestObject<2048ul, 2048ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb50911)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>, 2048ul, 2048ul>::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:321 (density_test+0xb50911)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xb581f6)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c314a800 by thread T12:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x9995c4)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x9995c4)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb57ed4)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb57ed4)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xb57ed4)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T4 (tid=2499, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T12 (tid=2507, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2496, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 9.62175 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: false
==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c3014940 by thread T13:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb9f221)
    #1 density_tests::TestObject<2048ul, 2048ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::consume_operation::element<density_tests::TestObject<2048ul, 2048ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb9f221)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 2048ul, 2048ul>::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:321 (density_test+0xb9f221)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xba6b06)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xba5df1)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c3014940 by thread T14:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x956564)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x956564)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xba69f7)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xba69f7)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xba69f7)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xba5df1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T13 (tid=2511, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T14 (tid=2512, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2496, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 11(0) Consumed: 350 (17%, remaining time estimate: 32.484 secs), enqueued: 1650==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c322f300 by thread T21:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb9e401)
    #1 density_tests::TestObject<256ul, 128ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::consume_operation::element<density_tests::TestObject<256ul, 128ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb9e401)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 256ul, 128ul>::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:321 (density_test+0xb9e401)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xba6b06)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xba5df1)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c322f300 by thread T15:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x956564)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x956564)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xba69f7)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xba69f7)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xba69f7)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xba5df1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T21 (tid=2519, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T15 (tid=2513, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2496, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 8(0) Consumed: 1374 (68%, remaining time estimate: 5.94034 secs), enqueued: 626==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Atomic write of size 8 at 0x7f12c31c2a00 by thread T24:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x956564)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x956564)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xba67e4)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xba67e4)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xba67e4)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xba5df1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous read of size 8 at 0x7f12c31c2a00 by thread T23:
    [failed to restore the stack]

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T24 (tid=2522, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T23 (tid=2521, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2496, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race ??:? in __tsan_atomic64_compare_exchange_val
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 13.4243 secs), enqueued: 0                   
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------


*** executing generic tests with exceptions...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: true
Active(susp) threads: 11(0) Consumed: 176 (8%, remaining time estimate: 2.11574 mins), enqueued: 1824==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c2f008c0 by thread T5:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb4d151)
    #1 unsigned char& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation::element<unsigned char>() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb4d151)
    #2 density_tests::detail::PutUInt8<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:141 (density_test+0xb4d151)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xb581f6)
    #4 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb585f5)
    #5 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #6 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb57501)
    #8 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #9 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #10 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #11 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #12 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #13 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #15 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c2f008c0 by thread T2:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x9995c4)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x9995c4)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb57ed4)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb57ed4)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xb57ed4)
    #6 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb585f5)
    #7 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #8 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #9 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb57501)
    #10 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #11 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #12 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #13 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #14 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #15 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #17 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T5 (tid=2527, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T2 (tid=2524, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2523, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 1.16523 mins), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
exceptions_during_puts:         0|*************************|11
  [histogram]                 493|                         |0
                              987|                         |0
                             1481|                         |0
                             1975|                         |0
                             2469|                         |0
                             2963|                         |0
                             3457|**                       |1
exceptions_during_consumes:       283|***********              |1.32231
  [histogram]                     300|***********************  |2.73554
                                  317|*************************|2.94215
                                  334|***********************  |2.68595
                                  352|***********              |1.26446
                                  369|                         |0.0495868
                                  386|                         |0
                                  404|********                 |1
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: true
Active(susp) threads: 5(0) Consumed: 1172 (58%, remaining time estimate: 33.9792 secs), enqueued: 828==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c321c1c0 by thread T14:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xba09ca)
    #1 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::Data& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation::element<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::Data>() const /home/abc/proj/density/test/../density/lf_heter_queue.h:2615 (density_test+0xba09ca)
    #2 void density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::consume_impl<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation>(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:394 (density_test+0xba09ca)
    #3 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::reentrant_consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:363 (density_test+0xb9fb75)
    #4 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:595 (density_test+0xba68f4)
    #5 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xba6f05)
    #6 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #7 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #8 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xba5e11)
    #9 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #10 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #11 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #12 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #13 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #14 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #15 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #16 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c321c1c0 by thread T12:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x956564)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x956564)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xba69f7)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xba69f7)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xba69f7)
    #6 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xba6f05)
    #7 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #8 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #9 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xba5e11)
    #10 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xba53d7)
    #11 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xba5146)
    #12 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xba5146)
    #13 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xba5146)
    #14 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xba5146)
    #15 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xba5146)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xba5146)
    #17 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T14 (tid=2547, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T12 (tid=2545, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xba2967)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb9a678)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a510)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb59340)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2523, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:182 (density_test+0xd8417e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 48.1336 secs), enqueued: 0                   
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
exceptions_during_puts:         0|*************************|11
  [histogram]                 480|                         |0
                              961|                         |0
                             1441|                         |0
                             1922|                         |0
                             2402|                         |0
                             2883|                         |0
                             3364|**                       |1
exceptions_during_consumes:       292|*************************|4.84615
  [histogram]                     305|*******************      |3.69231
                                  318|****                     |0.692308
                                  331|*********                |1.69231
                                  344|                         |0.0769231
                                  357|                         |0
                                  370|                         |0
                                  383|*****                    |1
--------------------------------------------


*** executing generic tests with test allocators...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density_tests::UnmovableFastTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 0(0) Consumed: 2000 (completed in 11.4428 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
Destroying UnmovableFastTestAllocator. page_size: 65520, page_alignment: 65536, total_allocated_pages: 59, total_allocations: 0
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_test
common_type: void
runtime_type: density_tests::TestRuntimeTime<void>
allocator_type: density_tests::DeepTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 11(0) Consumed: 479 (23%, remaining time estimate: 27.5154 secs), enqueued: 1521==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c3214000 by thread T15:
    #0 density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb1fd71)
    #1 density_tests::TestObject<128ul, 8ul>& density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation::element<density_tests::TestObject<128ul, 8ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:2615 (density_test+0xb1fd71)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>, 128ul, 8ul>::reentrant_consume(density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:327 (density_test+0xb1fd71)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:595 (density_test+0xb2a2c3)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb29401)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb28bd7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb28946)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb28946)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb28946)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb28946)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb28946)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb28946)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c3214000 by thread T26:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0xb2ad64)
    #2 density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0xb2ad64)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xb2a3ca)
    #4 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xb2a3ca)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xb2a3ca)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb29401)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb28bd7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb28946)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb28946)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb28946)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb28946)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb28946)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb28946)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T15 (tid=2579, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb25caa)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb1b425)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0af0f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:522 (density_test+0xb0a743)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T26 (tid=2570, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb25caa)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb1b425)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0af0f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:522 (density_test+0xb0a743)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2561, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb14d4a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb0bc75)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0ac60)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:518 (density_test+0xb0a653)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 15.6333 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density_tests::UnmovableFastTestAllocator<256ul>
page_alignment: 256
page_size: 240
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 0(0) Consumed: 2000 (completed in 48.4188 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
Destroying UnmovableFastTestAllocator. page_size: 240, page_alignment: 256, total_allocated_pages: 20412, total_allocations: 971
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_test
common_type: void
runtime_type: density_tests::TestRuntimeTime<void>
allocator_type: density_tests::DeepTestAllocator<256ul>
page_alignment: 256
page_size: 240
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 0(0) Consumed: 2000 (completed in 53.8881 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density_tests::UnmovableFastTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: false
Active(susp) threads: 11(0) Consumed: 253 (12%, remaining time estimate: 28.1371 secs), enqueued: 1747==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c3015080 by thread T19:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb5e721)
    #1 density_tests::TestObject<128ul, 8ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation::element<density_tests::TestObject<128ul, 8ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:2615 (density_test+0xb5e721)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 128ul, 8ul>::reentrant_consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:327 (density_test+0xb5e721)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:595 (density_test+0xb67f84)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb67671)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb66bc9)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb66936)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb66936)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb66936)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb66936)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb66936)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb66936)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c3015080 by thread T23:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0xb685c9)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0xb685c9)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xb68079)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xb68079)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xb68079)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb67671)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb66bc9)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb66936)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb66936)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb66936)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb66936)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb66936)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb66936)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T19 (tid=2627, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb63b1a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb5aa48)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb59a30)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:518 (density_test+0xb59423)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T23 (tid=2631, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb63b1a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb5aa48)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb59a30)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:518 (density_test+0xb59423)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2589, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb34eca)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb2bda5)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b1d0)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:526 (density_test+0xb0a827)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 19.4018 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
Destroying UnmovableFastTestAllocator. page_size: 65520, page_alignment: 65536, total_allocated_pages: 65, total_allocations: 0
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_test
common_type: void
runtime_type: density_tests::TestRuntimeTime<void>
allocator_type: density_tests::DeepTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: false
Active(susp) threads: 0(0) Consumed: 2000 (completed in 17.9021 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density_tests::UnmovableFastTestAllocator<256ul>
page_alignment: 256
page_size: 240
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: false
Active(susp) threads: 0(0) Consumed: 2000 (completed in 50.535 secs), enqueued: 0                     
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
Destroying UnmovableFastTestAllocator. page_size: 240, page_alignment: 256, total_allocated_pages: 18040, total_allocations: 857
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_test
common_type: void
runtime_type: density_tests::TestRuntimeTime<void>
allocator_type: density_tests::DeepTestAllocator<256ul>
page_alignment: 256
page_size: 240
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: true
with_exceptions: false
==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Atomic read of size 8 at 0x7f12c42f22c0 by thread T1:
    #0 __tsan_atomic64_load ??:? (density_test+0x7abd79)
    #1 density::raw_atomic_load(unsigned long const*, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:315 (density_test+0xb995ec)
    #2 density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:260 (density_test+0xb995ec)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb98a7a)
    #4 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb98a7a)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xb98a7a)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb97cd1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb974a7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb97216)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb97216)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb97216)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb97216)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb97216)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb97216)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous write of size 8 at 0x7f12c42f22c0 by thread T21:
    #0 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 128ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:383 (density_test+0xb8e9af)
    #1 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1>::inplace_allocate<1ul, true, 128ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb8e9af)
    #2 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<density_tests::TestObject<128ul, 8ul> > density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_emplace<density_tests::TestObject<128ul, 8ul>, density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2715 (density_test+0xb8e9af)
    #3 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<std::decay<density_tests::TestObject<128ul, 8ul> >::type> density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_push<density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2701 (density_test+0xb8e289)
    #4 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 128ul, 8ul>::reentrant_put(density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:313 (density_test+0xb8e289)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb98304)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb97bef)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb97509)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb97216)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb97216)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb97216)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb97216)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb97216)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb97216)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c3f00000 allocated by thread T17:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<256ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0xaa2921)
    #2 density::detail::SystemPageManager<256ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<256ul>::Region*, density::detail::SystemPageManager<256ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0xaa27a9)
    #3 density::detail::SystemPageManager<256ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0xaa27a9)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0xaa2451)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0xaa1ed2)
    #6 density::basic_void_allocator<256ul>::allocate_page() /home/abc/proj/density/test/../density/void_allocator.h:273 (density_test+0xb2cd9a)
    #7 density_tests::UnmovableFastTestAllocator<256ul>::allocate_page() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/test_allocators.h:343 (density_test+0xb2cd9a)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:543 (density_test+0xb2cd9a)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0xb2cc6a)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0xb2cc6a)
    #11 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0xb2cc6a)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb31bcc)
    #13 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::inplace_allocate<1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb31bcc)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::put_transaction<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_emplace<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data>() /home/abc/proj/density/test/../density/lf_heter_queue.h:1256 (density_test+0xb31bcc)
    #15 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:343 (density_test+0xb31bcc)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:528 (density_test+0xb38c78)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb3893f)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb37fdb)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb37ce6)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb37ce6)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb37ce6)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb37ce6)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb37ce6)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb37ce6)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T1 (tid=2661, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T21 (tid=2657, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T17 (tid=2653, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb8394a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb7a828)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb59fa0)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:526 (density_test+0xb595f7)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race ??:? in __tsan_atomic64_load
==================
==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Write of size 8 at 0x7f12c42f2240 by thread T21:
    #0 memcpy ??:? (density_test+0x78f5c7)
    #1 TestObject /home/abc/proj/density/test/tests/generic_tests/../../test_framework/test_objects.h:125 (density_test+0xb8ea1a)
    #2 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<density_tests::TestObject<128ul, 8ul> > density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_emplace<density_tests::TestObject<128ul, 8ul>, density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2726 (density_test+0xb8ea1a)
    #3 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<std::decay<density_tests::TestObject<128ul, 8ul> >::type> density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_push<density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2701 (density_test+0xb8e289)
    #4 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 128ul, 8ul>::reentrant_put(density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:313 (density_test+0xb8e289)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb98304)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb97bef)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb97509)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb97216)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb97216)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb97216)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb97216)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb97216)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb97216)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic read of size 8 at 0x7f12c42f2240 by thread T1:
    #0 __tsan_atomic64_load ??:? (density_test+0x7abd79)
    #1 density::raw_atomic_load(unsigned long const*, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:315 (density_test+0xb995ec)
    #2 density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)1> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:260 (density_test+0xb995ec)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb98a7a)
    #4 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb98a7a)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xb98a7a)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb97cd1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb974a7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb97216)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb97216)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb97216)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb97216)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb97216)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb97216)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c3f00000 allocated by thread T17:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<256ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0xaa2921)
    #2 density::detail::SystemPageManager<256ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<256ul>::Region*, density::detail::SystemPageManager<256ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0xaa27a9)
    #3 density::detail::SystemPageManager<256ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0xaa27a9)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0xaa2451)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0xaa1ed2)
    #6 density::basic_void_allocator<256ul>::allocate_page() /home/abc/proj/density/test/../density/void_allocator.h:273 (density_test+0xb2cd9a)
    #7 density_tests::UnmovableFastTestAllocator<256ul>::allocate_page() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/test_allocators.h:343 (density_test+0xb2cd9a)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:543 (density_test+0xb2cd9a)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0xb2cc6a)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0xb2cc6a)
    #11 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0xb2cc6a)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb31bcc)
    #13 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::inplace_allocate<1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb31bcc)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::put_transaction<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_emplace<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data>() /home/abc/proj/density/test/../density/lf_heter_queue.h:1256 (density_test+0xb31bcc)
    #15 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:343 (density_test+0xb31bcc)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:528 (density_test+0xb38c78)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb3893f)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb37fdb)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb37ce6)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb37ce6)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb37ce6)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb37ce6)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb37ce6)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb37ce6)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T21 (tid=2657, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2661, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T17 (tid=2653, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb8394a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb7a828)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb59fa0)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:526 (density_test+0xb595f7)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race ??:? in memcpy
==================
==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Write of size 8 at 0x7f12c42f2280 by thread T21:
    #0 memcpy ??:? (density_test+0x78f5c7)
    #1 TestObject /home/abc/proj/density/test/tests/generic_tests/../../test_framework/test_objects.h:125 (density_test+0xb8ea1a)
    #2 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<density_tests::TestObject<128ul, 8ul> > density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_emplace<density_tests::TestObject<128ul, 8ul>, density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2726 (density_test+0xb8ea1a)
    #3 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::reentrant_put_transaction<std::decay<density_tests::TestObject<128ul, 8ul> >::type> density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>::start_reentrant_push<density_tests::TestObject<128ul, 8ul> >(density_tests::TestObject<128ul, 8ul>&&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2701 (density_test+0xb8e289)
    #4 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>, 128ul, 8ul>::reentrant_put(density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:313 (density_test+0xb8e289)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb98304)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb97bef)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb97509)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb97216)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb97216)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb97216)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE1EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb97216)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb97216)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb97216)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic read of size 8 at 0x7f12c42f2280 by thread T1:
    [failed to restore the stack]

  Location is heap block of size 4194304 at 0x7f12c3f00000 allocated by thread T17:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<256ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0xaa2921)
    #2 density::detail::SystemPageManager<256ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<256ul>::Region*, density::detail::SystemPageManager<256ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0xaa27a9)
    #3 density::detail::SystemPageManager<256ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0xaa27a9)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0xaa2451)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<256ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0xaa1ed2)
    #6 density::basic_void_allocator<256ul>::allocate_page() /home/abc/proj/density/test/../density/void_allocator.h:273 (density_test+0xb2cd9a)
    #7 density_tests::UnmovableFastTestAllocator<256ul>::allocate_page() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/test_allocators.h:343 (density_test+0xb2cd9a)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:543 (density_test+0xb2cd9a)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0xb2cc6a)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0xb2cc6a)
    #11 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0xb2cc6a)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb31bcc)
    #13 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::inplace_allocate<1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb31bcc)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::put_transaction<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_emplace<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data>() /home/abc/proj/density/test/../density/lf_heter_queue.h:1256 (density_test+0xb31bcc)
    #15 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:343 (density_test+0xb31bcc)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:528 (density_test+0xb38c78)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb3893f)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb37fdb)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb37ce6)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb37ce6)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb37ce6)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm256EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb37ce6)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb37ce6)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb37ce6)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T21 (tid=2657, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2661, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T17 (tid=2653, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb8394a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb7a828)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb59fa0)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:526 (density_test+0xb595f7)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race ??:? in memcpy
==================
Active(susp) threads: 6(0) Consumed: 20 (1%, remaining time estimate: 0.0011089 secs), enqueued: 18446744073709551                                                                                                                  Active(susp) threads: 0(0) Consumed: 2000 (completed in 40.4789 secs), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
--------------------------------------------


*** executing generic tests with test allocators and exceptions...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density_tests::UnmovableFastTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: true
Active(susp) threads: 11(0) Consumed: 356 (17%, remaining time estimate: 2.09291 mins), enqueued: 1644==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c2f290c0 by thread T27:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb0e5f1)
    #1 unsigned short& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation::element<unsigned short>() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb0e5f1)
    #2 density_tests::detail::PutUInt16<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:176 (density_test+0xb0e5f1)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xb193b6)
    #4 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb19595)
    #5 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #6 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb188c1)
    #8 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb17df9)
    #9 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb17b66)
    #10 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb17b66)
    #11 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb17b66)
    #12 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb17b66)
    #13 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb17b66)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb17b66)
    #15 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c2f290c0 by thread T12:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0xb197f9)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0xb197f9)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xb192a9)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xb192a9)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xb192a9)
    #6 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb19595)
    #7 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #8 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #9 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb188c1)
    #10 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb17df9)
    #11 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb17b66)
    #12 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb17b66)
    #13 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb17b66)
    #14 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS2_26UnmovableFastTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb17b66)
    #15 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb17b66)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb17b66)
    #17 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T27 (tid=2671, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb14d4a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb0bc75)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0ac60)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:518 (density_test+0xb0a653)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:193 (density_test+0xd8430e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T12 (tid=2676, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb14d4a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb0bc75)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0ac60)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:518 (density_test+0xb0a653)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:193 (density_test+0xd8430e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2661, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb9457a)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb8a028)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<256ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb5a24f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)1>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:530 (density_test+0xb596db)
    #6 density_tests::lf_heter_seq_cst_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_seqcst.cpp:34 (density_test+0xb590a4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:44 (density_test+0xba79dc)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:188 (density_test+0xd84248)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density_tests::UnmovableFastTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 0(0) Consumed: 2000 (completed in 1.16522 mins), enqueued: 0                    
spawned by i-th thread:         0|*************************|11
  [histogram]                 285|                         |0
                              571|                         |0
                              857|                         |0
                             1142|                         |0
                             1428|                         |0
                             1714|                         |0
                             2000|**                       |1
exceptions_during_puts:         0|*************************|11
  [histogram]                 485|                         |0
                              970|                         |0
                             1455|                         |0
                             1940|                         |0
                             2425|                         |0
                             2910|                         |0
                             3396|**                       |1
exceptions_during_consumes:       284|*******                  |1
  [histogram]                     298|*****************        |2.42857
                                  312|***********************  |3.28571
                                  326|*************************|3.57143
                                  340|*****                    |0.714286
                                  354|                         |0
                                  368|                         |0
                                  382|*******                  |1
Destroying UnmovableFastTestAllocator. page_size: 65520, page_alignment: 65536, total_allocated_pages: 146, total_allocations: 0
--------------------------------------------

starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_test
common_type: void
runtime_type: density_tests::TestRuntimeTime<void>
allocator_type: density_tests::DeepTestAllocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: true
Active(susp) threads: 11(0) Consumed: 175 (8%, remaining time estimate: 2.84842 mins), enqueued: 1825==================
WARNING: ThreadSanitizer: data race (pid=2494)
  Read of size 8 at 0x7f12c30f7100 by thread T2:
    #0 density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb1ed70)
    #1 std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >& density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation::element<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:2615 (density_test+0xb1ed70)
    #2 density_tests::detail::PutString<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_consume(density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:97 (density_test+0xb1ed70)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:595 (density_test+0xb2a2c3)
    #4 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb2a9c5)
    #5 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #6 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb29421)
    #8 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb28bd7)
    #9 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb28946)
    #10 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb28946)
    #11 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb28946)
    #12 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb28946)
    #13 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb28946)
    #14 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb28946)
    #15 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f12c30f7100 by thread T21:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0xb2ad64)
    #2 density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0xb2ad64)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb2a1aa)
    #4 density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb2a1aa)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:586 (density_test+0xb2a1aa)
    #6 std::_Function_handler<void (), density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one()::{lambda()#1}>::_M_invoke(std::_Any_data const&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:316 (density_test+0xb2a9c5)
    #7 std::function<void ()>::operator()() const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/std_function.h:706 (density_test+0xd8060c)
    #8 density_tests::run_exception_test(std::function<void ()>) /home/abc/proj/density/test/test_framework/exception_tests.cpp:53 (density_test+0xd8060c)
    #9 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:607 (density_test+0xb29421)
    #10 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb28bd7)
    #11 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb28946)
    #12 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb28946)
    #13 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb28946)
    #14 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS2_15TestRuntimeTimeIvEENS2_17DeepTestAllocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSA_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb28946)
    #15 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb28946)
    #16 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb28946)
    #17 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f12c2efe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/void_allocator.h:288 (density_test+0x999227)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:544 (density_test+0x999227)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)1, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5285f)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate<1ul, true, 4ul, 4ul>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:181 (density_test+0xb5285f)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<float> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_emplace<float, float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2934 (density_test+0xb524a3)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<float&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_push<float&>(density::progress_guarantee, float&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2918 (density_test+0xb524a3)
    #15 density_tests::detail::TryPutFloat<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:254 (density_test+0xb524a3)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T2 (tid=2690, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb25caa)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb1b425)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0af0f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:522 (density_test+0xb0a743)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:193 (density_test+0xd8430e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T21 (tid=2685, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb25caa)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb1b425)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0af0f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:522 (density_test+0xb0a743)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:193 (density_test+0xd8430e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=2689, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb25caa)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb1b425)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0af0f)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:522 (density_test+0xb0a743)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:193 (density_test+0xd8430e)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density_tests::TestRuntimeTime<void>, density_tests::DeepTestAllocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 11(0) Consumed: 175 (8%, remaining time estimate: 9.18785 mins), enqueued: 1825^C
abc@abc:~/proj/density$ ^C
abc@abc:~/proj/density$ ^C
abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE "" "" -fsanitize=thread
[sudo] password for abc: 
scripts/test.sh: line 11: =halt_on_error=1: command not found
abc@abc:~/proj/density$ sudo bash scripts/test.sh TRUE Release FALSE "" "" -fsanitize=thread
RUN=TRUE, BUILD_TYPE=Release, TEST_DATA_STACK=FALSE, GCOV=, PARAMS=, COMPILER_PARAMS=-fsanitize=thread
MAKE_ARGS =  -DCMAKE_BUILD_TYPE=Release
mkdir: cannot create directory ‘build’: File exists
-- CMAKE_CXX_COMPILER: clang++-5.0
-- CMAKE_CXX_COMPILER_ID: GNU
-- will compile with g++
-- Configuring done
-- Generating done
-- Build files have been written to: /home/abc/proj/density/test/build
[100%] Built target density_test
[100%] Built target density_test
Install the project...
-- Install configuration: "Release"
-- Up-to-date: /usr/local/bin/density_test
Density tests
	density_test
DENSITY_DEBUG: not defined
DENSITY_DEBUG_INTERNAL: not defined
NDEBUG: defined
DENSITY_USER_DATA_STACK: not defined
number of processors: 4
random seed: 623664363
density version: 1.3.1
default page size: 65520

starting all tests...

*** executing generic tests...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 10(0) Consumed: 27 (1%, remaining time estimate: 0.00282358 secs), enqueued: 64==================
WARNING: ThreadSanitizer: data race (pid=3088)
  Read of size 8 at 0x7fa3779421c0 by thread T2:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb50911)
    #1 density_tests::TestObject<2048ul, 2048ul>& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation::element<density_tests::TestObject<2048ul, 2048ul> >() const /home/abc/proj/density/test/../density/lf_heter_queue.h:1047 (density_test+0xb50911)
    #2 density_tests::detail::PutTestObject<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>, 2048ul, 2048ul>::consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:321 (density_test+0xb50911)
    #3 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:573 (density_test+0xb581f6)
    #4 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #6 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #7 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #8 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #9 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #10 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #12 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7fa3779421c0 by thread T11:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7b423e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x9995c4)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x9995c4)
    #3 consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:1053 (density_test+0xb580e7)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:1936 (density_test+0xb580e7)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:564 (density_test+0xb580e7)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:611 (density_test+0xb574e1)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:495 (density_test+0xb56ac7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7fa3778fe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7f5866)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x810fd1)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x810e59)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x810e59)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:313 (density_test+0x810b01)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x810582)
    #6 density::basic_void_allocator<65536ul>::allocate_page() /home/abc/proj/density/test/../density/void_allocator.h:273 (density_test+0x999240)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:543 (density_test+0x999240)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x999185)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x999185)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x999185)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb5386c)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::inplace_allocate<1ul, true, 4ul, 4ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb5386c)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<unsigned int> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_reentrant_emplace<unsigned int, unsigned int&>(unsigned int&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2715 (density_test+0xb5386c)
    #14 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_put_transaction<std::decay<unsigned int&>::type> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_reentrant_push<unsigned int&>(unsigned int&) /home/abc/proj/density/test/../density/lf_heter_queue.h:2701 (density_test+0xb5386c)
    #15 density_tests::detail::ReentrantPush<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:431 (density_test+0xb5386c)
    #16 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:541 (density_test+0xb57814)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:555 (density_test+0xb573ff)
    #18 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:491 (density_test+0xb56b29)
    #19 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:379 (density_test+0xb56836)
    #20 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb56836)
    #21 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb56836)
    #22 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb56836)
    #23 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb56836)
    #24 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb56836)
    #25 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T2 (tid=3091, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T11 (tid=3100, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

  Thread T1 (tid=3090, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x76a2a6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:226 (density_test+0xb54057)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:95 (density_test+0xb4bd65)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xb0b740)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xb0a570)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xb0a2d4)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xba79ca)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd840b1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd84b9e)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd84f1b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================
Active(susp) threads: 5(0) Consumed: 1789 (89%, remaining time estimate: 1.53526 secs), enqueued: 211^C
abc@abc:~/proj/density$ 

